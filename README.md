### 阅读参考《时间触发嵌入式系统设计》实现的51合作式调度器

# 原理

## 调度器

## 更新器

# 代码规范
代码规范参考我的Repo[CodeStyle](https://github.com/KellyHwong/CodeStyle)
里面是Google官方的C语言规范。不过它主要针对互联网开发，但是在嵌入式中可以借鉴。

嵌入式开发的规范，主要包括工程的构造（文件与文件之间的关系），头文件规范，
源文件规范，注释规范

## 工程规范
一般工程由多个模块组成，通常一个模块包括头文件和源文件。头文件主要包括函数原型的声明，宏的定义。源文件包括共有变量（外部模块通过extern声明来引用）和
私有变量（前面加static，这样其它模块就不能引用）的声明，模块初始化函数（诸如Module_Init()）和模块函数的定义。
注意私有变量在源文件中声明，但是不要赋初值，通过调用初始化函数来赋初值。

嵌入式与所开发的芯片型号非常相关，一般在Main.c中定义芯片型号（通常是一个包含了该芯片所有引脚地址定义的头文件，如<reg52.h>）
嵌入式要注意端口的分配，一般来说端口不宜复用，是独占性的。在工程中要加入Port.h文件（不需要Port.c），在其中定义相应模块使用的端口，在对应的模块的源文件中如果需要Port.h中的定义，则引用它，比如在Port.h中定义了LED_pin = P1^3，则在LED_Flash.c（不是h）中使用#include "Port.h"来包含

## 头文件规范
头文件的一般模式是：
//预编译保护
\#ifndef _MODULE_H
\#define _MODULE_H

//对其他头文件的引用，主要是在本头文件中所需要的符号的定义，包括一些变量类型的定义，以及所要用到的宏
\#include "Main.h" or some head file

//本模块使用的数据结构的定义
typedef struct
{
    tType1 data1,
    tType2 data2
};

//函数原型声明
//注意声明只要声明变量类型即可，不需要参数名，以免修改麻烦
//没有参数请加void
void fun1(void);
void fun2(int);

\#endif

## 源文件规范

//包含自己的头文件
## 命名规范

## 注释规范

